<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LanguagePrep - English Support (EAL)</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸŒ</text></svg>">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../style.css">

  <style>
    /* === ESTILOS ESPECÃFICOS PARA EAL (Para arreglar el diseÃ±o) === */
    
    :root { --primary: #2563eb; --bg: #f8fafc; }

    /* Arreglo de la foto de perfil */
    .profile-img { width: 90px !important; height: 90px !important; border-radius: 50% !important; object-fit: cover !important; border: 3px solid var(--primary) !important; margin-bottom: 15px !important; }

    /* 1. Selector de Idioma (MÃ¡s limpio y profesional) */
    .lang-select-container { 
        background: #ffffff; 
        border: 1px solid #e2e8f0; 
        padding: 15px; 
        border-radius: 12px; 
        margin-bottom: 25px; 
        text-align: center; 
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
    }
    .lang-label { 
        display: block; 
        font-weight: 700; 
        color: #334155; 
        margin-bottom: 8px; 
        font-size: 0.95rem;
    }
    .lang-select { 
        padding: 10px; 
        font-size: 1rem; 
        border-radius: 8px; 
        border: 2px solid #cbd5e1; 
        width: 100%; 
        max-width: 350px; 
        background: #f8fafc;
        cursor: pointer;
    }

    /* 2. Selector de Nivel (Botones grandes y claros) */
    .level-selector { 
        display: flex; 
        gap: 10px;
        background: #f1f5f9; 
        padding: 5px; 
        border-radius: 12px; 
        margin-bottom: 20px; 
    }
    .level-btn { 
        flex: 1; 
        padding: 12px; 
        border: none; 
        border-radius: 8px; 
        cursor: pointer; 
        font-weight: 700; 
        font-size: 0.95rem; 
        color: #64748b; 
        background: transparent; 
        transition: 0.2s;
    }
    .level-btn.active { 
        background: white; 
        color: var(--primary); 
        box-shadow: 0 2px 5px rgba(0,0,0,0.1); 
    }

    /* 3. CuadrÃ­cula de Temas (GRID) - Esto es lo que fallaba antes */
    .topic-grid { 
        display: grid; 
        grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); 
        gap: 12px; 
        margin-bottom: 30px; 
    }
    .topic-btn { 
        padding: 15px; 
        border: 1px solid #e2e8f0; 
        border-radius: 12px; 
        background: white; 
        cursor: pointer; 
        font-size: 0.95rem; 
        font-weight: 600; 
        color: #475569; 
        transition: 0.2s; 
        display: flex; 
        flex-direction: column; 
        align-items: center; 
        justify-content: center;
        min-height: 80px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.02);
    }
    .topic-btn:hover { 
        background: #eff6ff; 
        border-color: var(--primary); 
        transform: translateY(-2px);
    }

    /* 4. Ãrea de Ejercicio y TraducciÃ³n */
    .question-card { 
        background: #eff6ff; 
        border-left: 5px solid var(--primary); 
        padding: 20px; 
        border-radius: 0 12px 12px 0; 
        margin-bottom: 20px; 
        text-align: left;
    }
    .translation-box { 
        background: #f0fdf4; 
        color: #15803d; 
        padding: 15px; 
        border-radius: 8px; 
        margin-top: 15px; 
        font-style: italic; 
        display: none; 
        border-left: 4px solid #22c55e; 
        font-weight: 500; 
        text-align: left;
    }
    
    /* Frases de Ayuda */
    .helper-grid { display: grid; gap: 8px; margin-top: 5px; text-align: left; }
    .helper-item { background: #f8fafc; border: 1px solid #cbd5e1; padding: 10px; border-radius: 6px; cursor: pointer; font-size: 0.9rem; transition: all 0.2s; }
    .helper-item:hover { background: #e2e8f0; transform: translateX(5px); }
  </style>

</head>
<body>

<div class="container">
  
  <header>
    <h1>
      <a href="../" style="text-decoration: none; color: inherit; cursor: pointer;">
        LanguagePrep Ireland
      </a>
    </h1>
    <p class="subtitle">Module: English Support (EAL)</p>

    <div class="lang-select-container">
      <label for="nativeLang" class="lang-label">ğŸ—£ï¸ I speak / Je parle / Hablo / Ğ¯ Ñ€Ğ¾Ğ·Ğ¼Ğ¾Ğ²Ğ»ÑÑ:</label>
      <select id="nativeLang" class="lang-select" onchange="updateInterfaceLang()">
        <option value="English">Select your native language...</option>
        <option value="Ukrainian">ğŸ‡ºğŸ‡¦ Ukrainian (Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°)</option>
        <option value="Russian">ğŸ³ï¸ Russian (Ğ ÑƒÑÑĞºĞ¸Ğ¹)</option>
        <option value="Arabic">ğŸ‡¸ğŸ‡¾ Arabic (Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)</option>
        <option value="Spanish">ğŸ‡ªğŸ‡¸ Spanish (EspaÃ±ol)</option>
        <option value="Portuguese">ğŸ‡§ğŸ‡· Portuguese (PortuguÃªs)</option>
        <option value="French">ğŸ‡«ğŸ‡· French (FranÃ§ais)</option>
        <option value="Polish">ğŸ‡µğŸ‡± Polish (Polski)</option>
        <option value="Romanian">ğŸ‡·ğŸ‡´ Romanian (RomÃ¢nÄƒ)</option>
        <option value="Chinese">ğŸ‡¨ğŸ‡³ Chinese (ä¸­æ–‡)</option>
        <option value="Pashto">ğŸ‡¦ğŸ‡« Pashto (Ù¾ÚšØªÙˆ)</option>
        <option value="Urdu">ğŸ‡µğŸ‡° Urdu (Ø§Ø±Ø¯Ùˆ)</option>
        <option value="Somali">ğŸ‡¸ğŸ‡´ Somali</option>
      </select>
    </div>
  </header>

  <div class="level-selector">
    <button class="level-btn active" id="btnNewcomer" onclick="setTopic('newcomer')">ğŸ£ Newcomer (Survival)</button>
    <button class="level-btn" id="btnSocial" onclick="setTopic('social')">ğŸ—£ï¸ Social & School</button>
  </div>

  <div class="topic-grid" id="topicGrid"></div>

  <div id="exerciseArea" style="display:none; margin-top:20px;">
    <div class="question-card">
      <h3 id="qTitle" style="margin-top:0; color:var(--primary);"></h3>
      
      <div id="qDisplay" style="font-size:1.3rem; font-weight:700; margin-bottom:15px; color:#1e293b;"></div>
      
      <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap;">
        <button class="audio-btn" onclick="speakText()">ğŸ”Š Listen</button>
        <button class="audio-btn" style="background:white; border:1px solid #bae6fd; color:#0284c7;" onclick="translateQuestion()">ğŸŒ Translate Question</button>
      </div>

      <div id="qTranslation" class="translation-box"></div>
    </div>

    <button onclick="toggleHelpers()" style="width:100%; margin-bottom:15px; padding:12px; background:#fffbeb; border:1px solid #f59e0b; border-radius:10px; color:#92400e; font-weight:700; cursor:pointer; text-align: center;">
      ğŸ’¡ Need help? Click here for sentences
    </button>
    
    <div id="helperArea" style="display:none; background:#fff; border:1px solid #e2e8f0; padding:15px; border-radius:10px; margin-bottom:15px;">
      <p style="margin-top:0; font-size:0.85rem; color:#64748b; font-style:italic;">Click a sentence to copy & listen:</p>
      
      <strong style="color:#16a34a; display:block; margin-bottom:5px;">ğŸŸ¢ Simple:</strong>
      <div id="basicSentences" class="helper-grid"></div>
      
      <div style="margin-top:15px;"></div>
      <strong style="color:#2563eb; display:block; margin-bottom:5px;">ğŸ”µ Advanced / Polite:</strong>
      <div id="advSentences" class="helper-grid"></div>
    </div>

    <textarea id="userInput" placeholder="Type your answer in English here..."></textarea>
    
    <button onclick="readInput()" style="margin: 10px 0; background: #f1f5f9; border: none; padding: 12px; border-radius: 8px; width:100%; cursor:pointer; color:#475569; font-weight:600;">
       ğŸ‘‚ Listen to my pronunciation
    </button>

    <button class="btn-main" id="btnAction" onclick="analyze()">âœ¨ Check my English</button>
  </div>

  <div id="result" style="display:none; margin-top:20px;">
    <div class="feedback-box">
      <div id="fbText"></div>
      <hr style="margin: 15px 0; border:0; border-top:1px solid #eee;">
      <div id="errorsList"></div>
    </div>
    <button class="btn-main" style="margin-top:20px; background:#e2e8f0; color:#334155;" onclick="reset()">ğŸ”„ Practice something else</button>
  </div>

  <div class="footer-section">
    <img src="../david.PNG" alt="David MartÃ­n" class="profile-img" onerror="this.src='https://cdn-icons-png.flaticon.com/512/3135/3135715.png'">
    <h3 style="margin: 0 0 5px 0;">David MartÃ­n</h3>
    <p style="margin: 0 0 15px 0; font-size: 0.9rem; color: #64748b;">Teacher & Developer at <strong>Ardgillan Community College</strong>.</p>
    
    <div class="support-box">
        <span class="support-title">ğŸš€ A Student-Focused Project</span>
        <p class="support-text">
            I created LanguagePrep to help you feel confident. 
            It's a free tool driven by passion, but running advanced AI does come with monthly costs.
            <br><br>
            If you find it useful, your support means the world. It helps keep the site running and allows me to 
            <strong>invest in better technology</strong> and improve the experience for everyone.
        </p>
    </div>

    <a href="https://revolut.me/davidkhy4/pocket/TbT6B5Grkq" target="_blank" class="revolut-btn">
       â˜• Support the Project
    </a>

    <div style="margin-top: 35px; border-top: 1px dashed #cbd5e1; padding-top: 25px;">
      <p style="font-size: 0.9rem; font-weight: 700; color: #334155; margin-bottom: 5px;">ğŸ› Report a Bug / Feedback</p>
      <form action="https://formspree.io/f/mjggeygj" method="POST" style="max-width: 450px; margin: 0 auto; text-align: left;">
        <textarea name="message" placeholder="Type your suggestion..." required style="width: 100%; padding: 12px; min-height: 80px; margin-bottom: 15px; border-radius: 10px; border: 1px solid #cbd5e1; box-sizing: border-box; font-family: inherit; font-size: 0.9rem;"></textarea>
        <button type="submit" style="width: 100%; background: #475569; color: white; border: none; padding: 10px; border-radius: 50px; font-weight: 700; cursor: pointer; transition: 0.2s; font-size: 0.9rem;">Send Feedback</button>
      </form>
    </div>
  </div>

</div>

<script src="script.js"></script>
<script data-goatcounter="https://lcoralprep.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>

</body>
</html>
