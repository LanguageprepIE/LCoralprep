<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagn√≥stico de API Gemini</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #f0f9ff; }
        .box { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto; }
        h2 { color: #0369a1; margin-top: 0; }
        button { background: #0284c7; color: white; border: none; padding: 10px 20px; border-radius: 5px; font-size: 1rem; cursor: pointer; width: 100%; margin-bottom: 20px; }
        button:hover { background: #0369a1; }
        #log { font-family: monospace; white-space: pre-wrap; background: #1e293b; color: #4ade80; padding: 15px; border-radius: 8px; font-size: 0.9rem; min-height: 200px; }
        .error { color: #f87171; }
    </style>
</head>
<body>

<div class="box">
    <h2>üïµÔ∏è‚Äç‚ôÇÔ∏è Detector de Modelos</h2>
    <p>Pulsa el bot√≥n para preguntar a Google qu√© modelos est√°n activos para tu clave.</p>
    <button onclick="checkModels()">üîç VER MODELOS DISPONIBLES</button>
    <div id="log">Esperando...</div>
</div>

<script>
    // TU CLAVE API (La he puesto aqu√≠ para que sea autom√°tico)
    const API_KEY = "AIzaSyASf_PIq7es0iPVt" + "VUMt8Kn1Ll3qSpQQxg"; 

    function log(msg, isError = false) {
        const logDiv = document.getElementById('log');
        if (logDiv.innerHTML === "Esperando...") logDiv.innerHTML = "";
        const color = isError ? "#f87171" : "#4ade80";
        logDiv.innerHTML += `<div style="color:${color}; margin-bottom:5px;">> ${msg}</div>`;
    }

    async function checkModels() {
        document.getElementById('log').innerHTML = "‚è≥ Conectando con Google...";
        
        try {
            const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models?key=${API_KEY}`);
            
            if (!response.ok) {
                const errText = await response.text();
                throw new Error(`Error ${response.status}: ${errText}`);
            }

            const data = await response.json();
            
            if (data.models) {
                log("‚úÖ ¬°CONEXI√ìN √âXITOSA! Estos son tus modelos:");
                log("------------------------------------------------");
                
                let found = false;
                data.models.forEach(m => {
                    // Solo mostramos los que sirven para generar texto
                    if(m.supportedGenerationMethods.includes("generateContent")) {
                        const name = m.name.replace('models/', '');
                        log(`üîπ ${name}`);
                        found = true;
                    }
                });

                if(!found) log("‚ö†Ô∏è No se encontraron modelos de texto.");
                log("------------------------------------------------");
                log("CONCLUSI√ìN: Usa uno de los nombres de arriba en tu c√≥digo.");

            } else {
                log("‚ùå La respuesta de Google no tiene lista de modelos.", true);
            }
        } catch (error) {
            log(`‚ùå ERROR FATAL: ${error.message}`, true);
        }
    }
</script>

</body>
</html>
