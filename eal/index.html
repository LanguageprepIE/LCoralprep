<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LCorals - English Support (EAL)</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸŒ</text></svg>">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
  <header>
    <h1>LCorals Ireland</h1>
    <p class="subtitle">Module: English Support (EAL)</p>

        <div class="lang-select-container">
      <label for="nativeLang" class="lang-label">ğŸ—£ï¸ I speak / Je parle / Hablo / Ğ¯ Ñ€Ğ¾Ğ·Ğ¼Ğ¾Ğ²Ğ»ÑÑ:</label>
      <select id="nativeLang" class="lang-select" onchange="updateInterfaceLang()">
        <option value="English">Select your native language...</option>
        <option value="Ukrainian">ğŸ‡ºğŸ‡¦ Ukrainian (Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°)</option>
        <option value="Russian">ğŸ³ï¸ Russian (Ğ ÑƒÑÑĞºĞ¸Ğ¹)</option>
        <option value="Filipino">ğŸ‡µğŸ‡­ Filipino (Tagalog)</option> 
        <option value="Arabic">ğŸ‡¸ğŸ‡¾ Arabic (Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©)</option>
        <option value="Spanish">ğŸ‡ªğŸ‡¸ Spanish (EspaÃ±ol)</option>
        <option value="Portuguese">ğŸ‡§ğŸ‡· Portuguese (PortuguÃªs)</option>
        <option value="French">ğŸ‡«ğŸ‡· French (FranÃ§ais)</option>
        <option value="Polish">ğŸ‡µğŸ‡± Polish (Polski)</option>
        <option value="Romanian">ğŸ‡·ğŸ‡´ Romanian (RomÃ¢nÄƒ)</option>
        <option value="Chinese">ğŸ‡¨ğŸ‡³ Chinese (ä¸­æ–‡)</option>
        <option value="Pashto">ğŸ‡¦ğŸ‡« Pashto (Ù¾ÚšØªÙˆ)</option>
        <option value="Urdu">ğŸ‡µğŸ‡° Urdu (Ø§Ø±Ø¯Ùˆ)</option>
        <option value="Somali">ğŸ‡¸ğŸ‡´ Somali</option>
        <option value="Serbian">ğŸ‡·ğŸ‡¸ Serbian (Ğ¡Ñ€Ğ¿ÑĞºĞ¸ / Srpski)</option>
      </select>
    </div>

    <div class="tabs-container">
        <button id="tabConv" class="tab-btn active" onclick="switchTab('conv')">ğŸ’¬ Conversation Topics</button>
        <button id="tabRole" class="tab-btn" onclick="switchTab('role')">ğŸ­ Real-Life Situations</button>
    </div>
  </header>

  <div id="sectionConversation">
      <div class="level-selector">
          <button class="level-btn active" id="btnBasic" onclick="setLevel('Basic')">ğŸŒ± Basic (A1-A2)</button>
          <button class="level-btn" id="btnAdvanced" onclick="setLevel('Advanced')">ğŸš€ Advanced (B1-B2)</button>
      </div>

      <div class="mode-selector" style="display:flex; gap:10px; margin-bottom:20px;">
          <button class="mode-btn" id="modeStudy" onclick="setMode('study')" style="flex:1; padding:10px; border-radius:10px; border:1px solid #cbd5e1; cursor:pointer;">ğŸ“– Study Mode</button>
          <button class="mode-btn active" id="modeExam" onclick="setMode('exam')" style="flex:1; padding:10px; border-radius:10px; border:1px solid #cbd5e1; cursor:pointer; background:#1e293b; color:white;">ğŸ¤ Practice Mode</button>
      </div>

      <div class="topic-grid" id="topicGrid"></div>

      <div id="studyContainer" style="display:none; background:#f8fafc; padding:20px; border-radius:15px; border:1px solid #e2e8f0; margin-bottom:20px;"></div>

      <div id="exerciseArea" style="display:none; margin-top:20px;">
        <div class="question-card">
          <h3 id="qTitle" style="margin-top:0; color:var(--primary);"></h3>
          <div id="qDisplay"></div>
          
          <div class="action-buttons">
            <button class="audio-btn" onclick="speakText()">ğŸ”Š Listen</button>
            <button class="translate-btn" onclick="translateQuestion()">ğŸŒ Translate</button>
          </div>
          <div id="qTranslation" class="translation-box"></div>
        </div>

        <button id="btnHint" onclick="toggleHint()" class="hint-btn" style="display:none;">
          ğŸ’¡ Checkpoints (What to include)
        </button>
        <div id="hintBox" style="display:none; background:#fffbeb; padding:15px; border-radius:10px; border:1px solid #fcd34d; margin-bottom:15px; font-size:0.9rem;"></div>

        <textarea id="userInput" placeholder="Type your answer in English here..."></textarea>
        <button onclick="readInput()" class="listen-self-btn">ğŸ‘‚ Listen to my pronunciation</button>
        <button class="btn-main" id="btnAction" onclick="analyze()">âœ¨ Check my English</button>
      </div>

      <div id="result" style="display:none; margin-top:20px;">
        <div class="feedback-box">
          <h2 id="scoreDisplay" style="margin-top:0;"></h2>
          <div id="userResponseText" style="font-style:italic; color:#64748b; margin-bottom:15px; padding:10px; background:#f1f5f9; border-radius:8px;"></div>
          <div id="fbNative" style="margin-bottom:10px;"></div>
          <div id="fbEN" style="color:#475569; font-size:0.95rem;"></div>
          <hr style="margin: 15px 0; border:0; border-top:1px solid #eee;">
          <div id="errorsList"></div>
        </div>
        <button id="btnReset" class="btn-main" style="margin-top:20px; background:#e2e8f0; color:#334155;" onclick="resetApp()">ğŸ”„ Practice something else</button>
      </div>
  </div>

  <div id="sectionRoleplay" style="display:none;">
      <h3 style="color:#1e293b; margin-top:0;">Real-Life Situations in Ireland</h3>
      <div class="topic-grid" id="rpGrid">
          <button class="topic-btn rp-btn-select" onclick="seleccionarRP(1, this)">ğŸª The Deli Counter</button>
          <button class="topic-btn rp-btn-select" onclick="seleccionarRP(2, this)">ğŸšŒ The Bus & Leap Card</button>
          <button class="topic-btn rp-btn-select" onclick="seleccionarRP(3, this)">ğŸ‘¨â€ğŸ« The Year Head</button>
          <button class="topic-btn rp-btn-select" onclick="seleccionarRP(4, this)">ğŸ‘• Buying Uniform</button>
      </div>

      <div id="rpArea" style="display:none; background:#f8fafc; border:1px solid #e2e8f0; border-radius:15px; padding:20px;">
          <div id="rpContext" style="background:#e0f2fe; color:#0369a1; padding:15px; border-radius:10px; font-weight:600; margin-bottom:15px;"></div>
          
          <div id="rpChat" style="background:white; border:1px solid #cbd5e1; border-radius:10px; height:300px; overflow-y:auto; padding:15px; margin-bottom:15px; display:flex; flex-direction:column; gap:10px;"></div>
          
          <div id="rpInstructionBox" style="display:none; background:#fffbeb; border:1px solid #f59e0b; padding:12px; border-radius:8px; margin-bottom:15px; font-size:0.95rem;"></div>

          <button id="nextAudioBtn" class="btn-main" style="margin-bottom:15px; background:#2563eb;">â–¶ï¸ Start Conversation</button>
          
          <textarea id="rpInput" placeholder="Listen to the audio first..." disabled style="min-height:80px; margin-bottom:10px;"></textarea>
          
          <div style="display:flex; gap:10px;">
              <button id="rpSendBtn" class="btn-main" style="flex:2; background:#16a34a;" onclick="enviarRespuestaRP()" disabled>ğŸ“¤ Send Reply</button>
              <button id="hintBtn" class="btn-main" style="flex:1; background:#f1f5f9; color:#475569;" onclick="mostrarSugerencia()" style="display:none;">ğŸ’¡ Hint</button>
          </div>
      </div>
  </div>

</div>
<script src="script.js"></script>
</body>
</html>
